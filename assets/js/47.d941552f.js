(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{589:function(v,_,t){"use strict";t.r(_);var i=t(2),r=Object(i.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h2",{attrs:{id:"git-pull如何影响工作区的"}},[v._v("git pull如何影响工作区的")]),v._v(" "),_("p",[v._v("今天做项目的时候突然想到一个问题。如果我拉取了最新主分支后，删除了一行代码，但是只在工作区保存，没有提交到本地git，那么此时如果我再次拉取主分支，我的工作区会更新吗")]),v._v(" "),_("p",[v._v("由此可以引出一个问题")]),v._v(" "),_("p",[v._v("就是拉取的时候工作区是如何受影响的？")]),v._v(" "),_("h4",{attrs:{id:"阶段-1-git-fetch-下载远程变更"}},[_("strong",[v._v("阶段 1："),_("code",[v._v("git fetch")]),v._v("（下载远程变更）")])]),v._v(" "),_("ul",[_("li",[v._v("仅更新远程分支引用（如 "),_("code",[v._v("origin/master")]),v._v("），"),_("strong",[v._v("不影响工作区和本地提交")]),v._v("。")])]),v._v(" "),_("h4",{attrs:{id:"阶段-2-git-merge-或-git-rebase-合并到本地"}},[_("strong",[v._v("阶段 2："),_("code",[v._v("git merge")]),v._v(" 或 "),_("code",[v._v("git rebase")]),v._v("（合并到本地）")])]),v._v(" "),_("p",[v._v("这里才是冲突处理的核心阶段，"),_("strong",[v._v("优先级顺序")]),v._v("如下：")]),v._v(" "),_("ol",[_("li",[_("strong",[v._v("比较远程分支与本地最新提交（"),_("code",[v._v("HEAD")]),v._v("）")]),v._v(" "),_("ul",[_("li",[v._v("Git 先检查远程变更和本地最新提交之间的差异。")]),v._v(" "),_("li",[v._v("如果两者修改了同一文件的同一部分（例如同一行代码），"),_("strong",[v._v("标记为冲突")]),v._v("，需要手动解决。")]),v._v(" "),_("li",[_("strong",[v._v("此时尚未涉及工作区修改")]),v._v("。")])])]),v._v(" "),_("li",[_("strong",[v._v("合并结果应用到工作区")]),v._v(" "),_("ul",[_("li",[v._v("如果第 1 步无冲突，Git 会将合并后的结果直接应用到工作区文件。")]),v._v(" "),_("li",[v._v("如果工作区有未暂存的修改（如你删除的那一行），Git 会尝试以下操作：\n"),_("ul",[_("li",[_("strong",[v._v("若工作区修改和合并结果不冲突")]),v._v("：保留工作区修改，自动合并其他部分。")]),v._v(" "),_("li",[_("strong",[v._v("若工作区修改和合并结果冲突")]),v._v("：标记文件为冲突状态（需手动解决）。")])])])])])]),v._v(" "),_("p",[v._v("也就是说")]),v._v(" "),_("p",[_("strong",[v._v("git会先处理本地和远程的合并，产生一个合并后的虚拟版本，然后git尝试把这个虚拟版本应用到工作区，处理和工作区的冲突")])]),v._v(" "),_("p",[v._v("那么回答一开始的问题")]),v._v(" "),_("p",[v._v("即不会")])])}),[],!1,null,null,null);_.default=r.exports}}]);