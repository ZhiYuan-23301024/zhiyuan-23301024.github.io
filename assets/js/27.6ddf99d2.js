(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{514:function(s,t,a){s.exports=a.p+"assets/img/25081205.77c465f8.png"},587:function(s,t,a){"use strict";a.r(t);var e=a(2),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"gitflow规范"}},[s._v("GitFlow规范")]),s._v(" "),t("p",[s._v("今天在B站上刷到了一条讲解gitflow的视频，感觉讲的非常好且通俗易懂，正好本人对规范这件事情比较不怎么了解，便做个总结笔记，视频链接"),t("a",{attrs:{href:"https://www.bilibili.com/video/BV19e4y1q7JJ/?spm_id_from=333.1391.0.0&vd_source=c25181bdc454f7ad86c8e3737daac0e2",target:"_blank",rel:"noopener noreferrer"}},[s._v("十分钟学会正确的github工作流，和开源作者们使用同一套流程_哔哩哔哩_bilibili"),t("OutboundLink")],1),s._v("，这个过程我会用草稿纸和作业的关系尽可能讲清楚这个工作流逻辑")]),s._v(" "),t("h2",{attrs:{id:"故事概要"}},[s._v("故事概要")]),s._v(" "),t("p",[s._v("想象一下，老师给你和你的小伙伴们布置了一个小组作业，每个人写其中一部分。于是小组组长手里拿到的是作业本体（"),t("strong",[s._v("远程master分支")]),s._v("），即最后需要直接交付老师的作业，组长把它挂在黑板上，让所有人都能看到这份最终作业的进展。组员则在黑板上贴上自己的解答分工部分（"),t("strong",[s._v("远程feature分支")]),s._v("）。组长会阅读组员贴在黑板上的这些解答，然后决定是否将这些分工解答的部分写在最终的作业里（"),t("strong",[s._v("合并远程master和远程feature分支")]),s._v("）。而组员自己的座位离黑板太远了，于是组员手抄了一份作业到自己的作业本上（"),t("strong",[s._v("拉取远程master分支到本地master分支")]),s._v("），免得来来回回跑看作业长什么样。那么写作业的时候肯定是不能直接在作业本上写的对吧，于是组员会自己在座位上拿一本草稿本（"),t("strong",[s._v("本地feature分支")]),s._v("）写自己的解题步骤，在草稿本上随便瞎搞都不会影响到作业内容的原始状态。到这就是我们的故事背景。")]),s._v(" "),t("h2",{attrs:{id:"拉取远程master到本地master"}},[s._v("拉取远程master到本地master")]),s._v(" "),t("p",[s._v("在开始开发自己负责的需求之前，拉取远程master分支上的内容到本地master")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#克隆远程master到本地mster")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone origin master\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#若克隆到本地以后本地分支不为master，则将其重命名为master")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" master\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#可使用git branch查看分支列表，带*号的为当前分支")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"创建本地feature分支"}},[s._v("创建本地feature分支")]),s._v(" "),t("p",[s._v("本地master分支是和远程master对应的。就像不能轻易直接对远程主分支进行修改一样，我们也不能轻易地直接在master上做自己的功能开发，而是应该从本地master分出一个自己的feature分支，而本地master仅作为提交使用。"),t("strong",[s._v("可以理解为master分支是我们领到的作业，而新建一个feature的目的是打开草稿纸，在草稿纸上写完了才能抄到作业上。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#从本地master分出一个feature分支 feature分支保留了master分支的所有记录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" my-feature\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#该过程相当于两条git命令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch my-feature "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#my-feature会继承master的提交")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout my-feature "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#切换当前分支为my-feature")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"在本地feature做提交"}},[s._v("在本地feature做提交")]),s._v(" "),t("p",[s._v("当我们在本地feature改完代码之后，就可以在本地feature提交自己的commit了。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("change-file"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("change-log"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"将本地feature推送到远程feature上"}},[s._v("将本地feature推送到远程feature上")]),s._v(" "),t("p",[s._v("当我们在my-feature分支上完成了我们的功能开发以后，我们就可以将它合并到远程my-feature分支上了，"),t("strong",[s._v("即把自己桌上的草稿纸的结果抄到黑板上自己的解答框里，这个时候可以看看作业本体和自己一开始抄下来的比有没有被更改过，若被更改过则进行接下来的操作，若没有被更改过，则可以叫组长过来验收自己的分工了")]),s._v("。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin my-feature\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"再次拉取远程master到本地master"}},[s._v("再次拉取远程master到本地master")]),s._v(" "),t("p",[s._v("由于项目开发是多线程的，因此你第一次拉取的主分支，经过你开发的这段时间可能已经迭代了，因此你需要把远程最新主分支拉取到本地master，为下一步检查做准备。"),t("strong",[s._v("即看看现在作业整体进度，然后把作业现在进展到哪了，把自己桌上的作业更新一下，再检查自己的解答和最新的作业解答是不是兼容。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout master "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#切换到本地master分支")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull origin master "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#更新本地master为远程master最新状态")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("当然你可能会说，啊老师老师那这个过程中作业还是会继续更新啊，那咋办呢，这个之后会说，别急。")]),s._v(" "),t("h2",{attrs:{id:"将本地feature变基到本地master上"}},[s._v("将本地feature变基到本地master上")]),s._v(" "),t("p",[s._v("由于本地master此时是最新开发版本，领先了本地feature，因此我们需要将本地feature的提交通过变基的方式与本地master合并，相当于我们的提交是基于最新版本的远程master做的更改。这个过程可能出现rebase conflict，那么就需要手动选择自己想要哪一行代码了。"),t("strong",[s._v("这个过程相当于把自己草稿纸上的内容写到自己抄下来的最新的作业上。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase master\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"将本地feature强制推送到远程feature上"}},[s._v("将本地feature强制推送到远程feature上")]),s._v(" "),t("p",[s._v("这个时候我们完成了本地feature和最新master的最新合并测试，确信是可以交上去和远程主分支合并了，因此我们更新远程feature分支为我们本地改好的可以提交的feature分支。"),t("strong",[s._v("即将我们写好的作业（我们负责的那部分）写在黑板上")]),s._v("。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#强制更新远程feature为本地feature")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" origin my-feature\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"提交pull-request"}},[s._v("提交pull request")]),s._v(" "),t("p",[s._v("直接在github仓库里点击"),t("code",[s._v("new pull request")]),s._v("向管理员发起合并请求，"),t("strong",[s._v("相当于告诉组长你的作业分工写完了，可以抄到最后的作业上了")]),s._v("。")]),s._v(" "),t("h2",{attrs:{id:"组长审核后合并"}},[s._v("组长审核后合并")]),s._v(" "),t("p",[s._v("仓库管理员审核你的feature和远程master分支的，然后就可以点击仓库里的merge合并你的请求了。"),t("strong",[s._v("恭喜，你完成了一你的作业分工")])]),s._v(" "),t("h2",{attrs:{id:"结语"}},[s._v("结语")]),s._v(" "),t("p",[s._v("对于这个过程中不详细的部分，比如"),t("strong",[s._v("管理员审核的时候需要审核哪些点")]),s._v("，"),t("strong",[s._v("几种合并方式有哪些具体的不同")]),s._v("等等，之后的文章里再一一说明")]),s._v(" "),t("p",[s._v("新增\n后来问了标哥关于我提交的同时有个同事也提交了造成的冲突怎么解决\n我觉得标哥说的很对\n"),t("img",{attrs:{src:a(514),alt:""}})])])}),[],!1,null,null,null);t.default=r.exports}}]);